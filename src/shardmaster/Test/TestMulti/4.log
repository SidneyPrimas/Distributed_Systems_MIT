Test: Multi-group join/leave ...
2016/05/06 00:12:31 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:0}, Received Reply => {WrongLeader:false Err:OK Config:{Num:0 Shards:[0 0 0 0 0 0 0 0 0 0] Groups:map[]}} 

2016/05/06 00:12:31 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:1}, Received Reply => {WrongLeader:false Err:OK Config:{Num:0 Shards:[0 0 0 0 0 0 0 0 0 0] Groups:map[]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Join completed. Sent Args => &{Servers:map[1:[x y z] 2:[a b c]] ClientID:1482924786211336729 RequestID:2}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:3}, Received Reply => {WrongLeader:false Err:OK Config:{Num:1 Shards:[2 1 2 1 2 1 2 1 2 1] Groups:map[2:[a b c] 1:[x y z]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:4}, Received Reply => {WrongLeader:false Err:OK Config:{Num:1 Shards:[2 1 2 1 2 1 2 1 2 1] Groups:map[1:[x y z] 2:[a b c]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Join completed. Sent Args => &{Servers:map[3:[j k l]] ClientID:1482924786211336729 RequestID:5}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:6}, Received Reply => {WrongLeader:false Err:OK Config:{Num:2 Shards:[3 1 3 1 2 1 2 1 2 3] Groups:map[2:[a b c] 1:[x y z] 3:[j k l]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:7}, Received Reply => {WrongLeader:false Err:OK Config:{Num:2 Shards:[3 1 3 1 2 1 2 1 2 3] Groups:map[2:[a b c] 1:[x y z] 3:[j k l]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Join completed. Sent Args => &{Servers:map[2:[a b c]] ClientID:1482924786211336729 RequestID:8}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:9}, Received Reply => {WrongLeader:false Err:OK Config:{Num:3 Shards:[3 1 3 1 2 1 2 1 2 3] Groups:map[1:[x y z] 3:[j k l] 2:[a b c]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:10}, Received Reply => {WrongLeader:false Err:OK Config:{Num:3 Shards:[3 1 3 1 2 1 2 1 2 3] Groups:map[1:[x y z] 3:[j k l] 2:[a b c]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:11}, Received Reply => {WrongLeader:false Err:OK Config:{Num:3 Shards:[3 1 3 1 2 1 2 1 2 3] Groups:map[2:[a b c] 1:[x y z] 3:[j k l]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Leave completed. Sent Args => &{GIDs:[1 3] ClientID:1482924786211336729 RequestID:12}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:13}, Received Reply => {WrongLeader:false Err:OK Config:{Num:4 Shards:[2 2 2 2 2 2 2 2 2 2] Groups:map[2:[a b c]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:14}, Received Reply => {WrongLeader:false Err:OK Config:{Num:4 Shards:[2 2 2 2 2 2 2 2 2 2] Groups:map[2:[a b c]]}} 

2016/05/06 00:12:32 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:15}, Received Reply => {WrongLeader:false Err:OK Config:{Num:4 Shards:[2 2 2 2 2 2 2 2 2 2] Groups:map[2:[a b c]]}} 

  ... Passed
Test: Concurrent multi leave/join ...
2016/05/06 00:12:32 masterClient2407138186363838626, Action: Join completed. Sent Args => &{Servers:map[8:[a b c] 1008:[a b c] 2008:[a b c]] ClientID:2407138186363838626 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient2106490055708192961, Action: Join completed. Sent Args => &{Servers:map[2009:[a b c] 9:[a b c] 1009:[a b c]] ClientID:2106490055708192961 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient503821309211376128, Action: Join completed. Sent Args => &{Servers:map[7:[a b c] 1007:[a b c] 2007:[a b c]] ClientID:503821309211376128 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient388720831918712251, Action: Join completed. Sent Args => &{Servers:map[10:[a b c] 1010:[a b c] 2010:[a b c]] ClientID:388720831918712251 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1613189080748562562, Action: Join completed. Sent Args => &{Servers:map[2001:[a b c] 1:[a b c] 1001:[a b c]] ClientID:1613189080748562562 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1691304484044276492, Action: Join completed. Sent Args => &{Servers:map[3:[a b c] 1003:[a b c] 2003:[a b c]] ClientID:1691304484044276492 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient388720831918712251, Action: Leave completed. Sent Args => &{GIDs:[1010 2010] ClientID:388720831918712251 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient503821309211376128, Action: Leave completed. Sent Args => &{GIDs:[1007 2007] ClientID:503821309211376128 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient2407138186363838626, Action: Leave completed. Sent Args => &{GIDs:[1008 2008] ClientID:2407138186363838626 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1568764089689974277, Action: Join completed. Sent Args => &{Servers:map[6:[a b c] 1006:[a b c] 2006:[a b c]] ClientID:1568764089689974277 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient2106490055708192961, Action: Leave completed. Sent Args => &{GIDs:[1009 2009] ClientID:2106490055708192961 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1691304484044276492, Action: Leave completed. Sent Args => &{GIDs:[1003 2003] ClientID:1691304484044276492 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient1568764089689974277, Action: Leave completed. Sent Args => &{GIDs:[1006 2006] ClientID:1568764089689974277 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient558695410001149118, Action: Join completed. Sent Args => &{Servers:map[5:[a b c] 1005:[a b c] 2005:[a b c]] ClientID:558695410001149118 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:32 masterClient2909655283214386962, Action: Join completed. Sent Args => &{Servers:map[2:[a b c] 1002:[a b c] 2002:[a b c]] ClientID:2909655283214386962 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:33 masterClient2977055162987648146, Action: Join completed. Sent Args => &{Servers:map[4:[a b c] 1004:[a b c] 2004:[a b c]] ClientID:2977055162987648146 RequestID:0}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:33 masterClient2977055162987648146, Action: Leave completed. Sent Args => &{GIDs:[1004 2004] ClientID:2977055162987648146 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:33 masterClient1613189080748562562, Action: Leave completed. Sent Args => &{GIDs:[1001 2001] ClientID:1613189080748562562 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:33 masterClient558695410001149118, Action: Leave completed. Sent Args => &{GIDs:[1005 2005] ClientID:558695410001149118 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:33 masterClient2909655283214386962, Action: Leave completed. Sent Args => &{GIDs:[1002 2002] ClientID:2909655283214386962 RequestID:1}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:33 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:16}, Received Reply => {WrongLeader:false Err:OK Config:{Num:24 Shards:[3 1 10 5 4 8 6 9 2 7] Groups:map[1:[a b c] 6:[a b c] 9:[a b c] 3:[a b c] 8:[a b c] 2:[a b c] 5:[a b c] 4:[a b c] 7:[a b c] 10:[a b c]]}} 

  ... Passed
Test: Minimal transfers after multijoins ...
2016/05/06 00:12:33 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:17}, Received Reply => {WrongLeader:false Err:OK Config:{Num:24 Shards:[3 1 10 5 4 8 6 9 2 7] Groups:map[4:[a b c] 2:[a b c] 1:[a b c] 9:[a b c] 3:[a b c] 5:[a b c] 8:[a b c] 10:[a b c] 6:[a b c] 7:[a b c]]}} 

2016/05/06 00:12:33 masterClient1482924786211336729, Action: Join completed. Sent Args => &{Servers:map[11:[a b c] 12:[a b c] 13:[a b c] 14:[a b c] 15:[a b c]] ClientID:1482924786211336729 RequestID:18}, Received Reply => {WrongLeader:false Err:OK} 

Test: Minimal transfers after multijoins ...2016/05/06 00:12:33 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:19}, Received Reply => {WrongLeader:false Err:OK Config:{Num:25 Shards:[3 1 10 5 4 8 6 9 2 12] Groups:map[10:[a b c] 14:[a b c] 4:[a b c] 5:[a b c] 11:[a b c] 1:[a b c] 15:[a b c] 2:[a b c] 6:[a b c] 7:[a b c] 9:[a b c] 13:[a b c] 8:[a b c] 3:[a b c] 12:[a b c]]}} 

  ... Passed
Test: Minimal transfers after multileaves ...
2016/05/06 00:12:33 masterClient1482924786211336729, Action: Leave completed. Sent Args => &{GIDs:[11 12 13 14 15] ClientID:1482924786211336729 RequestID:20}, Received Reply => {WrongLeader:false Err:OK} 

2016/05/06 00:12:33 masterClient1482924786211336729, Action: Query completed. Sent Args => &{Num:-1 ClientID:1482924786211336729 RequestID:21}, Received Reply => {WrongLeader:false Err:OK Config:{Num:26 Shards:[3 1 10 5 4 8 6 9 2 7] Groups:map[1:[a b c] 4:[a b c] 3:[a b c] 7:[a b c] 8:[a b c] 2:[a b c] 5:[a b c] 10:[a b c] 9:[a b c] 6:[a b c]]}} 

  ... Passed
PASS
ok  	shardmaster	2.173s
